#### 1. Декомпозиция на микросервисы
1. Каждый поддомен - это сущность System;
2. Внутри поддомена изображены микросервисы. Каждый микросервис/БД/очередь - это сущность Container;

1. поддомен 1 - *Device Management* - **управление устройствами умного дома**
   1. в этом поддомене обрабатываются запросы от пользователей. На основе запросов отправляюстя сообщения в кафку;
   2. здесь же хранится логика сохранения запросов пользователей (по которым они потом могут получить ответы);
   3. также здесь хранится кеш для телеметрии;

2. поддомен 2 - *Devices Api* - ***api* взаимодействия с устройствами**
   1. этот поддомен отвечает за интеграцию сервисов экосистемы умного дома с физическими устройствами (девайсами), датчиками и т.д. Таким образом, бизнес-логика экосистемы умного дома абстрагируется от деталей взамиодействия с различными видами устройств;
   2. сервисы этого поддомена считывают данные из брокера сообщений, преобразуют и преобразуют их в вид, который понимают соответствующие девайсы;

3. поддомен 3 - *Telemetry* - **работа с телеметрией**
   1. этот поддомен отвечает за обработку запросов для телеметрии;
   2. сервисы этого поддомена считывают данные из брокера сообщений, преобразуют и преобразуют их в вид, который понимают соответствующие девайсы;

4. поддомен 4 - *Account* - **работа с пользовательскими аккаунтами**:
   1. этот поддомен отвечает за идентификацию пользователя;
   2. другие сервисы используют этот поддомен для получения данных об аккаунте. *Api Gateway* использует этот сервис для регистрации пользователей и отображения пользовательских данных на Web UI/Mobile App;